{% extends "RobiskApplicationBundle::Common/layout.html.twig" %}

{% block robisk_application_content %}

    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    {% if user.id is defined %}

                        <h1 class="page-header">{{ 'user.profile.header'|trans }}</h1>

                        <h2 class="page-header">{{ 'user.profile.data'|trans }}</h2>
                        <form class="form-horizontal" role="form" method="POST" action="{{ profile_url }}">
                            <div class="form-group">
                                <div>
                                    {{ form_errors(profile_form.firstName) }}
                                </div>
                                <div class="col-md-2 control-label">
                                    {{ form_label(profile_form.firstName, 'user.profile.firstName'|trans) }}
                                </div>
                                <div class="col-md-3">
                                    {{ form_widget(profile_form.firstName, {'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    {{ form_errors(profile_form.lastName) }}
                                </div>
                                <div class="col-md-2 control-label">
                                    {{ form_label(profile_form.lastName, 'user.profile.lastName'|trans) }}
                                </div>
                                <div class="col-md-3">
                                    {{ form_widget(profile_form.lastName, {'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    {{ form_errors(profile_form.email) }}
                                </div>
                                <div class="col-md-2 control-label">
                                    {{ form_label(profile_form.email, 'user.profile.email'|trans) }}
                                </div>
                                <div class="col-md-3">
                                    {{ form_widget(profile_form.email, {'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <button class="col-md-3 col-md-offset-2 btn btn-success" type="submit">{{ 'user.profile.submit'|trans }}</button>
                            </div>
                        </form>

                        <h2 class="page-header">{{ 'user.profile.password.change.title'|trans }}</h2>
                        <form class="form-horizontal" role="form" method="POST" action="{{ password_url }}">
                            <div class="form-group">
                                <div>
                                    {{ form_errors(password_form.oldPassword) }}
                                </div>
                                <div class="col-md-2 control-label">
                                    {{ form_label(password_form.oldPassword, 'user.profile.password.old'|trans) }}
                                </div>
                                <div class="col-md-3">
                                    {{ form_widget(password_form.oldPassword, {'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    {{ form_errors(password_form.user.password.password) }}
                                </div>
                                <div class="col-md-2 control-label">
                                    {{ form_label(password_form.user.password.password, 'user.profile.password.new'|trans) }}
                                </div>
                                <div class="col-md-3">
                                    {{ form_widget(password_form.user.password.password, {'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    {{ form_errors(password_form.user.password.confirm) }}
                                </div>
                                <div class="col-md-2 control-label">
                                    {{ form_label(password_form.user.password.confirm, 'user.profile.password.repeat'|trans) }}
                                </div>
                                <div class="col-md-3">
                                    {{ form_widget(password_form.user.password.confirm, {'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <button class="col-md-3 col-md-offset-2 btn btn-success" type="submit">{{ 'user.profile.password.submit'|trans }}</button>
                            </div>
                        </form>

                    {% else %}
                        <div class="title">{{ 'permission.warning.title'|trans }}</div>
                        <p class="empty">{{ 'permission.denied'|trans }}</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>



{% endblock robisk_application_content %}